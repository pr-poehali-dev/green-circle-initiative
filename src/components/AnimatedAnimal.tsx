import React from 'react';
import { useEffect, useState } from 'react';

const AnimatedAnimal = () => {
  const [position, setPosition] = useState({ x: 10, y: 10 });
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∂–∏–≤–æ—Ç–Ω–æ–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const showTimer = setTimeout(() => {
      setIsVisible(true);
    }, 1000);

    // –ê–Ω–∏–º–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
    const animationTimer = setInterval(() => {
      // –°–ª—É—á–∞–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
      const newX = Math.floor(Math.random() * 70);
      setPosition({ x: newX, y: 10 + Math.floor(Math.random() * 10) });
    }, 5000);

    return () => {
      clearTimeout(showTimer);
      clearInterval(animationTimer);
    };
  }, []);

  // CSS –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
  const animalStyle = {
    position: 'absolute',
    left: `${position.x}%`,
    top: `${position.y}%`,
    transition: 'left 2s ease-in-out, top 2s ease-in-out, opacity 1s ease-in-out',
    opacity: isVisible ? 1 : 0,
    zIndex: 10,
  };

  return (
    <div style={animalStyle as React.CSSProperties} className="hidden md:block">
      <div className="relative">
        <img 
          src="https://images.unsplash.com/photo-1500479694472-551d1fb6258d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&h=300&q=80" 
          alt="–õ–∏—Å–∞" 
          className="w-28 h-28 object-cover rounded-full border-4 border-yellow-400"
        />
        <div className="absolute -bottom-2 -right-2 bg-white rounded-full p-1 shadow-md">
          <span role="img" aria-label="Fox" className="text-xl">ü¶ä</span>
        </div>
      </div>
    </div>
  );
};

export default AnimatedAnimal;